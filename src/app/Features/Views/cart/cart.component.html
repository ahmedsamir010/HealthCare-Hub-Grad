<app-navbar></app-navbar>
<div class="container">
  <p class="display-1 text-center" *ngIf="getTotalPrice() == 0">
    NO ITEMS IN CART
  </p>

  <div class="row g-2" *ngIf="getTotalPrice() != 0">
    <h1 class="mb-2 mt-4" *ngIf="medCart.length > 0">Medicines Cart</h1>
    <div class="col-12 col-md-6 col-lg-4" *ngFor="let i of medCart">
      <div class="card">
        <div class="card-body text-center">
          <div class="d-flex align-items-center justify-content-between">
            <img
              src="{{ i.picturUrl }}"
              class="img-fluid object-fit-cover rounded-3"
              alt=""
              style="width: 130px; height: 80px"
            />
            <h2 class="card-title ms-2 m-0 text-start">{{ i.name }}</h2>
          </div>
          <div class="d-flex align-items-center mt-3">
            <p class="card-text fs-3 fw-medium m-0">{{ i.price }} EGP</p>
            <button
              class="btn btn-outline-danger btn-sm d-block ms-auto"
              data-bs-toggle="modal"
              data-bs-target="#removeMedModal"
            >
              <i class="bi bi-trash"></i> Remove
            </button>
          </div>
        </div>
      </div>
      <!-- Modal -->
      <div
        class="modal fade"
        id="removeMedModal"
        tabindex="-1"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body text-center">
              <p class="fs-4">Are you sure you want to delete this item?</p>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                No
              </button>
              <button
                type="button"
                class="btn btn-danger"
                data-bs-dismiss="modal"
                (click)="removeMed(i.id)"
              >
                Yes
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <hr />
  <div class="row g-2" *ngIf="getTotalPrice() != 0">
    <h1 class="mb-2 mt-5" *ngIf="testCart.length > 0">Tests Cart</h1>
    <div class="col-12 col-md-6 col-lg-4" *ngFor="let i of testCart">
      <div class="card">
        <div class="card-body text-center">
          <div class="d-flex align-items-center justify-content-between">
            <img
              src="{{ i.imageUrl }}"
              class="img-fluid object-fit-cover rounded-3"
              alt=""
              style="width: 130px; height: 80px"
            />
            <h2 class="card-title ms-2 m-0 text-start">{{ i.name }}</h2>
          </div>
          <div class="d-flex align-items-center mt-3">
            <p class="card-text fs-3 fw-medium m-0">{{ i.price }} EGP</p>
            <button
              class="btn btn-outline-danger btn-sm d-block ms-auto"
              data-bs-toggle="modal"
              data-bs-target="#removeTestModal"
            >
              <i class="bi bi-trash"></i> Remove
            </button>
          </div>
        </div>
      </div>
      <!-- Modal -->
      <div
        class="modal fade"
        id="removeTestModal"
        tabindex="-1"
        data-bs-backdrop="static"
        data-bs-keyboard="false"
      >
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-body text-center">
              <p class="fs-4">Are you sure you want to delete this item?</p>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                No
              </button>
              <button
                type="button"
                class="btn btn-danger"
                data-bs-dismiss="modal"
                (click)="removeTest(i.id)"
              >
                Yes
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="text-center m-3 mt-5 d-flex gap-3 align-items-center">
    <div>
      <mat-radio-group [(ngModel)]="selectedOption">
        <mat-radio-button value="home" color="primary">Home</mat-radio-button>
        <mat-radio-button value="lab" color="primary">Lab</mat-radio-button>
      </mat-radio-group>
    </div>
    <div *ngIf="selectedOption === 'home'">
      <label for="" class="fs-5 me-3">Your Location:</label>
      <input
        type="text"
        class="p-2 border rounded-3 border-danger border-1"
        style="outline: none"
      />
    </div>
  </div>
  <hr />
  <div
    class="d-flex align-items-center justify-content-between m-3"
    *ngIf="getTotalPrice() > 0"
  >
    <p class="fs-3 my-4 text-end">Total: {{ getTotalPrice() }} EGP</p>
    <button class="btn btn-outline-primary" routerLink="/checkout">
      Checkout <i class="bi bi-credit-card-2-front"></i>
    </button>
  </div>
  <hr />
</div>
<app-footer></app-footer>
